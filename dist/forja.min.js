
/*
 * -------------------------------------------------------
 * Project: ForjaDelProgramador
 * Version: 0.0.1
 *
 * Author:  David Torroija
 * Site:     https://github.com/davidtorroija
 * Contact: davidtorroija@gmail.com
 *
 *
 * Copyright (c) 2013 David Torroija
 * -------------------------------------------------------
 */

"use strict";var input="Bua-Mua-Gua-Bua-Mua-Bua-Bua-Mua-Gua-Bua",forjaApp=function(){function attendBaby(input){var action,cases={Bua:function(){action="Alimentar",that.sleepMinutes="Mua"===that.previousInput?that.sleepMinutes-45:that.sleepMinutes-60},Mua:function(){action="PaÃ±al",that.sleepMinutes=that.sleepMinutes-30},Gua:function(){action="Chupete",("Bua"!==that.previousInput||"Mua"!==that.prevPrevInput)&&(that.sleepMinutes="Bua"===that.previousInput?that.sleepMinutes-5:that.sleepMinutes-10)},_default:function(){console.log(input,"input")}};return cases[input]?cases[input]():cases._default(),that.prevPrevInput=that.previousInput,that.previousInput=input,action}function getSleepHoursString(){return((that.sleepMinutes-that.sleepMinutes%60)/60).toString()+" horas, "+that.sleepMinutes%60+" minutos"}function calculateLostFollowers(){if(that.sleepMinutes>=240)return 0;var minutes=that.sleepMinutes,lostFollowers=0;if(that.sleepMinutes>=120&&that.sleepMinutes<240)for(;240>minutes;)minutes+=30,lostFollowers+=100;if(that.sleepMinutes>=0&&that.sleepMinutes<120)for(lostFollowers=400;120>minutes;)minutes+=30,lostFollowers+=200;return lostFollowers}function parseInput(){that.sleepMinutes=480;for(var input=window.input.split("-"),i=0;i<input.length;i++)actions+=" -"+attendBaby(input[i]);console.log("calculateLostFollowers",that.calculateLostFollowers(),",sleepMinutes:",that.sleepMinutes,",getSleepHoursString",that.getSleepHoursString(),",actions:",actions,",that.sleepMinutes/60",that.sleepMinutes/60)}var that,actions="";return that={getSleepHoursString:getSleepHoursString,attendBaby:attendBaby,sleepMinutes:480,previousInput:"",prevPrevInput:"",calculateLostFollowers:calculateLostFollowers,parseInput:parseInput}}(input);forjaApp.parseInput(input);